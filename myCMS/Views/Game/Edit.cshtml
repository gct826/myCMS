@model myCMS.Models.Game

<h2>@ViewBag.Title</h2>

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>CMSPage</legend>
        
        @Html.HiddenFor(model => model.Id)
        
        <input data-val="true" data-val-required="The Id field is required." id="refId" name="refId" type="hidden" value=@ViewBag.Objectid />


        <div class="editor-label">
            @Html.LabelFor(model => model.Name)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.ReleaseDate)
            <input type="checkbox" id="pizza" name="pizza" value="yes"> 
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.ReleaseDate)
            @Html.ValidationMessageFor(model => model.ReleaseDate)
        </div>

        
        <div class="editor-label">
            @Html.LabelFor(model => model.Played)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Played)
            @Html.ValidationMessageFor(model => model.Played)
        </div>
        
@*        <div class="editor-label">
            @Html.LabelFor(model => model.Categories)
        </div>
        <div class="editor-field">
            @foreach (var item in Model.Categories)
            {
                @item <br/>
            }
        </div>*@
        <p>
            <input type="submit" value="Save" />
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
<script>
    var update = function () {
        if ($("#pizza").is(":checked")) {
            $('#ReleaseDate').prop('disabled', false);
        }
        else {
            $('#ReleaseDate').prop('disabled', 'disabled');
        }
    };
    $(update);
    $("#pizza").change(update_pizza);
</script>

}
